@model IEnumerable<PharmaCom.Domain.Models.Product>

@{
    Layout = "~/Views/Shared/_MainThemeLayout.cshtml";
    ViewData["Title"] = "Home";
    ViewBag.CurrentPage = "home";
}

<div class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-75 py-5">
            <div class="col-lg-6 order-2 order-lg-1 fade-in-up">
                <span class="d-inline-block py-1 px-3 rounded-pill bg-danger-subtle text-danger fw-bold mb-3 shadow-sm">
                    <small>💊 Trusted Healthcare Provider</small>
                </span>
                <h1 class="display-4 fw-bolder text-dark mb-4" style="line-height: 1.2;">
                    Your Health Is <br>
                    <span style="color: var(--pharma-red);">Our Priority</span>
                </h1>
                <p class="lead text-muted mb-5" style="max-width: 90%;">
                    Experience the new age of pharmacy. Quality medicines, fast delivery, and expert care at your fingertips.
                </p>
                <div class="d-flex gap-3 flex-column flex-sm-row">
                    <a asp-controller="Home" asp-action="Store" class="btn btn-primary btn-lg rounded-pill px-5 py-3 shadow-lg">Shop Now</a>
                    @if (User.Identity.IsAuthenticated)
                    {
                        <a asp-controller="Prescription" asp-action="Upload" class="btn btn-outline-primary btn-lg rounded-pill px-5 py-3">Upload Rx</a>
                    }
                    else
                    {
                        <a asp-controller="Account" asp-action="Login" class="btn btn-outline-primary btn-lg rounded-pill px-5 py-3">Log In</a>
                    }
                </div>
            </div>

            <div class="col-lg-6 order-1 order-lg-2 mb-5 mb-lg-0 text-center fade-in-right">
                <div class="position-relative">
                    <div class="hero-blob"></div>
                    <img src="~/images/hero_1.jpg" alt="PharmaCom Healthcare" class="img-fluid rounded-5 shadow-lg position-relative hero-img" style="z-index: 2; transform: rotate(-2deg); border: 5px solid #fff;">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="site-section bg-white py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-card text-center">
                    <div class="icon-wrapper mb-4">
                        <span class="icon-truck display-4"></span>
                    </div>
                    <h3 class="h5 fw-bold text-dark">Free Shipping</h3>
                    <p class="text-muted">Free delivery for all orders over $50. We deliver safely to your door.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-card text-center">
                    <div class="icon-wrapper mb-4">
                        <span class="icon-shield display-4"></span>
                    </div>
                    <h3 class="h5 fw-bold text-dark">Secure Payment</h3>
                    <p class="text-muted">100% secure payment. We value your privacy and data security.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="feature-card text-center">
                    <div class="icon-wrapper mb-4">
                        <span class="icon-headset_mic display-4"></span>
                    </div>
                    <h3 class="h5 fw-bold text-dark">24/7 Support</h3>
                    <p class="text-muted">Our dedicated support team is here to help you anytime, anywhere.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="site-section bg-light">
    <div class="container">
        <div class="row">
            <div class="title-section text-center col-12 mb-5">
                <h2 class="text-uppercase">Popular Products</h2>
            </div>
        </div>

        <div class="row">
            @foreach (var product in Model.Take(6))
            {
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="card product-card elevated-card h-100 border-0">
                        <div class="card-img-wrapper p-3 text-center" style="height: 250px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                            <a asp-controller="Home" asp-action="ShowProduct" asp-route-id="@product.Id">
                                <img src="@(product.ImageURLString ?? "/images/product_placeholder.png")" class="card-img-top img-fluid product-img" alt="@product.Name" />
                            </a>
                        </div>
                        <div class="card-body text-center d-flex flex-column pt-4">
                            <h5 class="card-title mb-2">
                                <a asp-controller="Home" asp-action="ShowProduct" asp-route-id="@product.Id" class="text-dark text-decoration-none fw-bold">
                                    @product.Name
                                </a>
                            </h5>
                            <div class="mt-auto">
                                <p class="price fs-5 fw-bold mb-3" style="color: var(--pharma-red);">
                                    $@product.Price.ToString("F2")
                                </p>
                                <a asp-controller="Home" asp-action="ShowProduct" asp-route-id="@product.Id" class="btn btn-custom-red rounded-pill px-4 w-100">
                                    View Details
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="row mt-5">
            <div class="col-12 text-center">
                <a asp-controller="Home" asp-action="Store" class="btn btn-custom-red-solid px-5 py-3 rounded-pill">View All Products</a>
            </div>
        </div>
    </div>
</div>

<div class="site-section overlay" style="background-image: url('/images/hero_1.jpg'); background-attachment: fixed; background-size: cover; background-position: center;">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-md-8 promo-content-inner">
                <span class="text-white text-uppercase tracking-wide font-weight-bold">Special Offer</span>
                <h2 class="text-white font-weight-bold display-4 mb-4">Get 15% Off Your First Order</h2>
                <p class="text-white lead mb-5" style="opacity: 0.9;">Use the coupon code <strong class="bg-white text-danger px-2 py-1 rounded">PHARMA15</strong> at checkout. Valid for new customers only.</p>
                <a asp-controller="Account" asp-action="Register" class="btn btn-outline-white btn-lg rounded-pill px-5 fw-bold">Sign Up Now</a>
            </div>
        </div>
    </div>
</div>

<div class="site-section bg-white">
    <div class="container">
        <div class="row mb-5 justify-content-center">
            <div class="col-md-7 text-center">
                <h2 class="font-weight-bold text-black">Our Trusted Partners</h2>
                <p class="text-muted">Proudly working with top global pharmaceutical leaders.</p>
            </div>
        </div>

        <div class="row align-items-center">
            @foreach (var brand in new[] { "PFIZER", "NOVARTIS", "SANOFI", "BAYER", "GSK", "ABBOTT", "ROCHE", "MERCK" })
            {
                <div class="col-6 col-md-3 mb-4">
                    <div class="brand-box">
                        <span class="brand-name">@brand</span>
                    </div>
                </div>
            }
        </div>
    </div>
</div>